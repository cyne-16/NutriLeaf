{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kim\\\\OneDrive\\\\Desktop\\\\NutriLeaf\\\\frontend\\\\src\\\\screens\\\\ScanScreen.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Camera, Upload, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ScanScreen = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [analyzing, setAnalyzing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [facingMode, setFacingMode] = useState('environment');\n  const [flashEnabled, setFlashEnabled] = useState(false);\n  const [hasFlash, setHasFlash] = useState(false);\n  useEffect(() => {\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [stream]);\n  const startCamera = async () => {\n    try {\n      var _videoTrack$getCapabi;\n      console.log('ðŸŽ¥ Requesting camera access...');\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: facingMode,\n          ...(flashEnabled && {\n            advanced: [{\n              torch: true\n            }]\n          })\n        }\n      });\n      console.log('âœ… Camera access granted');\n      console.log('ðŸ“¹ Stream:', mediaStream);\n      console.log('ðŸŽ¬ Tracks:', mediaStream.getVideoTracks());\n\n      // Check if flash is available\n      const videoTrack = mediaStream.getVideoTracks()[0];\n      const capabilities = (_videoTrack$getCapabi = videoTrack.getCapabilities) === null || _videoTrack$getCapabi === void 0 ? void 0 : _videoTrack$getCapabi.call(videoTrack);\n      if (capabilities !== null && capabilities !== void 0 && capabilities.torch) {\n        setHasFlash(true);\n        console.log('ðŸ’¡ Flash available');\n      }\n      setStream(mediaStream);\n      setCameraActive(true);\n\n      // Wait for next render cycle\n      setTimeout(() => {\n        const video = videoRef.current;\n        if (!video) {\n          console.error('âŒ Video element not found');\n          return;\n        }\n        console.log('ðŸ“º Setting stream to video element');\n        video.srcObject = mediaStream;\n        video.muted = true;\n        video.playsInline = true;\n        console.log('â–¶ï¸ Attempting to play video');\n        video.play().then(() => console.log('âœ… Video is playing!')).catch(err => console.error('âŒ Play error:', err));\n      }, 100);\n    } catch (error) {\n      console.error('âŒ Camera error:', error);\n      alert('Camera access denied. Please check permissions.');\n    }\n  };\n  const stopCamera = () => {\n    if (stream) {\n      stream.getTracks().forEach(track => track.stop());\n      setStream(null);\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n    setCameraActive(false);\n    setFlashEnabled(false);\n    setHasFlash(false);\n  };\n  const toggleCamera = async () => {\n    const newFacingMode = facingMode === 'environment' ? 'user' : 'environment';\n    setFacingMode(newFacingMode);\n    if (cameraActive) {\n      stopCamera();\n      // Small delay before restarting with new camera\n      setTimeout(() => {\n        startCamera();\n      }, 100);\n    }\n  };\n  const toggleFlash = async () => {\n    if (!stream || !hasFlash) return;\n    const videoTrack = stream.getVideoTracks()[0];\n    const newFlashState = !flashEnabled;\n    try {\n      await videoTrack.applyConstraints({\n        advanced: [{\n          torch: newFlashState\n        }]\n      });\n      setFlashEnabled(newFlashState);\n      console.log('ðŸ’¡ Flash toggled:', newFlashState);\n    } catch (error) {\n      console.error('âŒ Flash toggle error:', error);\n    }\n  };\n  const captureImage = () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    console.log('ðŸ“¸ Capturing image, video dimensions:', video.videoWidth, 'x', video.videoHeight);\n    if (video.videoWidth === 0 || video.videoHeight === 0) {\n      alert('Video not ready. Please wait a moment and try again.');\n      return;\n    }\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n    ctx.drawImage(video, 0, 0);\n    const imageData = canvas.toDataURL('image/jpeg');\n    setCapturedImage(imageData);\n    stopCamera();\n    analyzeImage();\n  };\n  const handleFileUpload = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      var _e$target;\n      setCapturedImage((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result);\n      analyzeImage();\n    };\n    reader.readAsDataURL(file);\n  };\n  const analyzeImage = () => {\n    setAnalyzing(true);\n    setProgress(0);\n    const interval = setInterval(() => {\n      setProgress(prev => {\n        if (prev >= 100) {\n          clearInterval(interval);\n          setTimeout(() => {\n            alert('Analysis complete! In a full app, this would navigate to results.');\n            resetScan();\n          }, 500);\n          return 100;\n        }\n        return prev + 5;\n      });\n    }, 100);\n  };\n  const resetScan = () => {\n    setCapturedImage(null);\n    setAnalyzing(false);\n    setProgress(0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)',\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      maxWidth: '100vw',\n      overflow: 'hidden'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: window.innerWidth > 768 ? 'row' : 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: window.innerWidth > 768 ? '40px' : '20px',\n        gap: window.innerWidth > 768 ? '60px' : '20px',\n        maxWidth: window.innerWidth > 768 ? '1400px' : '100%',\n        margin: '0 auto',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          width: window.innerWidth > 768 ? '500px' : '100%',\n          height: window.innerWidth > 768 ? '600px' : 'auto',\n          aspectRatio: window.innerWidth <= 768 ? '9/16' : 'unset',\n          background: '#000',\n          borderRadius: '24px',\n          overflow: 'hidden',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          boxShadow: '0 20px 60px rgba(45, 80, 22, 0.2)',\n          flexShrink: 0\n        },\n        children: [(cameraActive || capturedImage) && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            inset: '40px',\n            border: '3px solid rgba(255, 255, 255, 0.5)',\n            borderRadius: '20px',\n            zIndex: 10,\n            pointerEvents: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: -3,\n              left: -3,\n              width: '40px',\n              height: '40px',\n              borderTop: '6px solid white',\n              borderLeft: '6px solid white',\n              borderRadius: '20px 0 0 0'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: -3,\n              right: -3,\n              width: '40px',\n              height: '40px',\n              borderTop: '6px solid white',\n              borderRight: '6px solid white',\n              borderRadius: '0 20px 0 0'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              bottom: -3,\n              left: -3,\n              width: '40px',\n              height: '40px',\n              borderBottom: '6px solid white',\n              borderLeft: '6px solid white',\n              borderRadius: '0 0 0 20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              bottom: -3,\n              right: -3,\n              width: '40px',\n              height: '40px',\n              borderBottom: '6px solid white',\n              borderRight: '6px solid white',\n              borderRadius: '0 0 20px 0'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 25\n        }, this), cameraActive && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            autoPlay: true,\n            playsInline: true,\n            muted: true,\n            style: {\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover',\n              backgroundColor: '#000'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: '20px',\n              right: '20px',\n              display: 'flex',\n              gap: '12px',\n              zIndex: 20\n            },\n            children: [hasFlash && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleFlash,\n              style: {\n                background: flashEnabled ? 'rgba(255, 215, 0, 0.9)' : 'rgba(0, 0, 0, 0.5)',\n                backdropFilter: 'blur(10px)',\n                border: 'none',\n                borderRadius: '50%',\n                width: '48px',\n                height: '48px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease'\n              },\n              title: flashEnabled ? 'Turn off flash' : 'Turn on flash',\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '24px'\n                },\n                children: flashEnabled ? 'âš¡' : 'ðŸ”¦'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleCamera,\n              style: {\n                background: 'rgba(0, 0, 0, 0.5)',\n                backdropFilter: 'blur(10px)',\n                border: 'none',\n                borderRadius: '50%',\n                width: '48px',\n                height: '48px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease'\n              },\n              title: \"Switch camera\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '24px'\n                },\n                children: \"\\uD83D\\uDD04\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true), capturedImage && !cameraActive && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: capturedImage,\n          alt: \"Captured plant\",\n          style: {\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 25\n        }, this), !cameraActive && !capturedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            color: '#5a6c62',\n            padding: '40px',\n            zIndex: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '64px',\n              marginBottom: '16px',\n              opacity: 0.5\n            },\n            children: \"\\uD83C\\uDF3F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '18px',\n              fontWeight: '600',\n              color: '#fff',\n              marginBottom: '8px'\n            },\n            children: window.innerWidth > 768 ? 'Camera Preview' : 'Ready to Scan'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '14px',\n              opacity: 0.8,\n              color: '#ccc'\n            },\n            children: window.innerWidth > 768 ? 'Click \"Start Camera\" to begin' : 'Start camera or upload an image'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 25\n        }, this), analyzing && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            bottom: '60px',\n            left: '50%',\n            transform: 'translateX(-50%)',\n            background: 'rgba(255, 255, 255, 0.95)',\n            backdropFilter: 'blur(10px)',\n            padding: '12px 24px',\n            borderRadius: '50px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px',\n            boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)',\n            zIndex: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '20px',\n              height: '20px',\n              border: '3px solid #2d5016',\n              borderTopColor: 'transparent',\n              borderRadius: '50%',\n              animation: 'spin 1s linear infinite'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '14px',\n              fontWeight: '600',\n              color: '#2d5016'\n            },\n            children: [progress, \"% Analyzing\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 25\n        }, this), capturedImage && !analyzing && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetScan,\n          style: {\n            position: 'absolute',\n            top: '20px',\n            right: '20px',\n            background: 'rgba(0, 0, 0, 0.5)',\n            backdropFilter: 'blur(10px)',\n            border: 'none',\n            borderRadius: '50%',\n            width: '40px',\n            height: '40px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: 'pointer',\n            zIndex: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24,\n            color: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '32px',\n          flex: window.innerWidth > 768 ? 1 : 'unset',\n          maxWidth: window.innerWidth > 768 ? '500px' : '100%',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: window.innerWidth > 768 ? 'block' : 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '36px',\n              fontWeight: '700',\n              color: '#0f2419',\n              marginBottom: '16px',\n              lineHeight: '1.2'\n            },\n            children: \"Scan Your Malunggay Plant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '16px',\n              color: '#5a6c62',\n              lineHeight: '1.6',\n              marginBottom: '24px'\n            },\n            children: \"Position your Malunggay plant within the camera frame for accurate disease detection. Our AI will analyze the leaves and provide instant results.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'rgba(45, 80, 22, 0.1)',\n              borderRadius: '12px',\n              padding: '16px',\n              borderLeft: '4px solid #2d5016'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '14px',\n                color: '#2d5016',\n                margin: 0,\n                fontWeight: '500'\n              },\n              children: \"\\uD83D\\uDCA1 Tip: Use the flash button for better lighting in dark conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '12px',\n            width: '100%'\n          },\n          children: cameraActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: captureImage,\n            disabled: analyzing,\n            style: {\n              background: analyzing ? '#9e9e9e' : 'linear-gradient(135deg, #2d5016 0%, #1a5f3a 100%)',\n              color: 'white',\n              border: 'none',\n              borderRadius: window.innerWidth > 768 ? '16px' : '50%',\n              width: window.innerWidth > 768 ? '100%' : '72px',\n              height: window.innerWidth > 768 ? 'auto' : '72px',\n              padding: window.innerWidth > 768 ? '18px 32px' : '0',\n              fontSize: window.innerWidth > 768 ? '18px' : '32px',\n              fontWeight: '600',\n              cursor: analyzing ? 'not-allowed' : 'pointer',\n              boxShadow: '0 8px 24px rgba(45, 80, 22, 0.3)',\n              transition: 'all 0.3s ease',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '12px',\n              margin: window.innerWidth > 768 ? '0' : '0 auto'\n            },\n            children: [window.innerWidth > 768 && /*#__PURE__*/_jsxDEV(Camera, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 61\n            }, this), window.innerWidth > 768 ? 'Capture Photo' : 'ðŸ“¸']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startCamera,\n              disabled: analyzing,\n              style: {\n                background: analyzing ? '#9e9e9e' : 'linear-gradient(135deg, #2d5016 0%, #1a5f3a 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '16px',\n                padding: '18px 32px',\n                fontSize: window.innerWidth > 768 ? '18px' : '16px',\n                fontWeight: '600',\n                cursor: analyzing ? 'not-allowed' : 'pointer',\n                boxShadow: '0 8px 24px rgba(45, 80, 22, 0.3)',\n                transition: 'all 0.3s ease',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '12px',\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Camera, {\n                size: window.innerWidth > 768 ? 24 : 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 37\n              }, this), \"Start Camera\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              accept: \"image/*\",\n              style: {\n                display: 'none'\n              },\n              onChange: handleFileUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              disabled: analyzing,\n              style: {\n                background: analyzing ? '#9e9e9e' : 'white',\n                color: '#2d5016',\n                border: '2px solid #2d5016',\n                borderRadius: '16px',\n                padding: '18px 32px',\n                fontSize: window.innerWidth > 768 ? '18px' : '16px',\n                fontWeight: '600',\n                cursor: analyzing ? 'not-allowed' : 'pointer',\n                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\n                transition: 'all 0.3s ease',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '12px',\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                size: window.innerWidth > 768 ? 24 : 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 37\n              }, this), \"Upload Image\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 21\n        }, this), !cameraActive && !capturedImage && window.innerWidth <= 768 && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: 'center',\n            fontSize: '14px',\n            color: '#5a6c62',\n            margin: 0\n          },\n          children: \"Position the plant within the frame for best results. Ensure good lighting and focus on leaves for disease detection.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          display: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n      `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 9\n  }, this);\n};\n_s(ScanScreen, \"eLWBODah3YGbUvadNmdc5Yymq9A=\");\n_c = ScanScreen;\nexport default ScanScreen;\nvar _c;\n$RefreshReg$(_c, \"ScanScreen\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Camera","Upload","X","jsxDEV","_jsxDEV","Fragment","_Fragment","ScanScreen","_s","videoRef","canvasRef","fileInputRef","stream","setStream","cameraActive","setCameraActive","analyzing","setAnalyzing","progress","setProgress","capturedImage","setCapturedImage","facingMode","setFacingMode","flashEnabled","setFlashEnabled","hasFlash","setHasFlash","getTracks","forEach","track","stop","startCamera","_videoTrack$getCapabi","console","log","mediaStream","navigator","mediaDevices","getUserMedia","video","advanced","torch","getVideoTracks","videoTrack","capabilities","getCapabilities","call","setTimeout","current","error","srcObject","muted","playsInline","play","then","catch","err","alert","stopCamera","toggleCamera","newFacingMode","toggleFlash","newFlashState","applyConstraints","captureImage","canvas","videoWidth","videoHeight","width","height","ctx","getContext","drawImage","imageData","toDataURL","analyzeImage","handleFileUpload","event","_event$target$files","file","target","files","reader","FileReader","onload","e","_e$target","result","readAsDataURL","interval","setInterval","prev","clearInterval","resetScan","style","minHeight","background","display","flexDirection","maxWidth","overflow","children","flex","window","innerWidth","alignItems","justifyContent","padding","gap","margin","position","aspectRatio","borderRadius","boxShadow","flexShrink","inset","border","zIndex","pointerEvents","top","left","borderTop","borderLeft","fileName","_jsxFileName","lineNumber","columnNumber","right","borderRight","bottom","borderBottom","ref","autoPlay","objectFit","backgroundColor","onClick","backdropFilter","cursor","transition","title","fontSize","src","alt","textAlign","color","marginBottom","opacity","fontWeight","transform","borderTopColor","animation","size","lineHeight","disabled","type","accept","onChange","_fileInputRef$current","click","_c","$RefreshReg$"],"sources":["C:/Users/kim/OneDrive/Desktop/NutriLeaf/frontend/src/screens/ScanScreen.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { Camera, Upload, X } from 'lucide-react';\r\n\r\nconst ScanScreen = () => {\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const [stream, setStream] = useState<MediaStream | null>(null);\r\n    const [cameraActive, setCameraActive] = useState(false);\r\n    const [analyzing, setAnalyzing] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [capturedImage, setCapturedImage] = useState<string | null>(null);\r\n    const [facingMode, setFacingMode] = useState<'user' | 'environment'>('environment');\r\n    const [flashEnabled, setFlashEnabled] = useState(false);\r\n    const [hasFlash, setHasFlash] = useState(false);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (stream) {\r\n                stream.getTracks().forEach(track => track.stop());\r\n            }\r\n        };\r\n    }, [stream]);\r\n\r\n    const startCamera = async () => {\r\n        try {\r\n            console.log('ðŸŽ¥ Requesting camera access...');\r\n\r\n            const mediaStream = await navigator.mediaDevices.getUserMedia({\r\n                video: {\r\n                    facingMode: facingMode,\r\n                    ...(flashEnabled && { advanced: [{ torch: true } as any] })\r\n                }\r\n            });\r\n\r\n            console.log('âœ… Camera access granted');\r\n            console.log('ðŸ“¹ Stream:', mediaStream);\r\n            console.log('ðŸŽ¬ Tracks:', mediaStream.getVideoTracks());\r\n\r\n            // Check if flash is available\r\n            const videoTrack = mediaStream.getVideoTracks()[0];\r\n            const capabilities = videoTrack.getCapabilities?.() as any;\r\n            if (capabilities?.torch) {\r\n                setHasFlash(true);\r\n                console.log('ðŸ’¡ Flash available');\r\n            }\r\n\r\n            setStream(mediaStream);\r\n            setCameraActive(true);\r\n\r\n            // Wait for next render cycle\r\n            setTimeout(() => {\r\n                const video = videoRef.current;\r\n                if (!video) {\r\n                    console.error('âŒ Video element not found');\r\n                    return;\r\n                }\r\n\r\n                console.log('ðŸ“º Setting stream to video element');\r\n                video.srcObject = mediaStream;\r\n                video.muted = true;\r\n                video.playsInline = true;\r\n\r\n                console.log('â–¶ï¸ Attempting to play video');\r\n                video.play()\r\n                    .then(() => console.log('âœ… Video is playing!'))\r\n                    .catch(err => console.error('âŒ Play error:', err));\r\n\r\n            }, 100);\r\n\r\n        } catch (error) {\r\n            console.error('âŒ Camera error:', error);\r\n            alert('Camera access denied. Please check permissions.');\r\n        }\r\n    };\r\n\r\n    const stopCamera = () => {\r\n        if (stream) {\r\n            stream.getTracks().forEach(track => track.stop());\r\n            setStream(null);\r\n        }\r\n        if (videoRef.current) {\r\n            videoRef.current.srcObject = null;\r\n        }\r\n        setCameraActive(false);\r\n        setFlashEnabled(false);\r\n        setHasFlash(false);\r\n    };\r\n\r\n    const toggleCamera = async () => {\r\n        const newFacingMode = facingMode === 'environment' ? 'user' : 'environment';\r\n        setFacingMode(newFacingMode);\r\n        \r\n        if (cameraActive) {\r\n            stopCamera();\r\n            // Small delay before restarting with new camera\r\n            setTimeout(() => {\r\n                startCamera();\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    const toggleFlash = async () => {\r\n        if (!stream || !hasFlash) return;\r\n\r\n        const videoTrack = stream.getVideoTracks()[0];\r\n        const newFlashState = !flashEnabled;\r\n        \r\n        try {\r\n            await videoTrack.applyConstraints({\r\n                advanced: [{ torch: newFlashState } as any]\r\n            });\r\n            setFlashEnabled(newFlashState);\r\n            console.log('ðŸ’¡ Flash toggled:', newFlashState);\r\n        } catch (error) {\r\n            console.error('âŒ Flash toggle error:', error);\r\n        }\r\n    };\r\n\r\n    const captureImage = () => {\r\n        if (!videoRef.current || !canvasRef.current) return;\r\n\r\n        const video = videoRef.current;\r\n        const canvas = canvasRef.current;\r\n\r\n        console.log('ðŸ“¸ Capturing image, video dimensions:', video.videoWidth, 'x', video.videoHeight);\r\n\r\n        if (video.videoWidth === 0 || video.videoHeight === 0) {\r\n            alert('Video not ready. Please wait a moment and try again.');\r\n            return;\r\n        }\r\n\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n\r\n        ctx.drawImage(video, 0, 0);\r\n\r\n        const imageData = canvas.toDataURL('image/jpeg');\r\n        setCapturedImage(imageData);\r\n        stopCamera();\r\n        analyzeImage();\r\n    };\r\n\r\n    const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = event.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            setCapturedImage(e.target?.result as string);\r\n            analyzeImage();\r\n        };\r\n        reader.readAsDataURL(file);\r\n    };\r\n\r\n    const analyzeImage = () => {\r\n        setAnalyzing(true);\r\n        setProgress(0);\r\n\r\n        const interval = setInterval(() => {\r\n            setProgress(prev => {\r\n                if (prev >= 100) {\r\n                    clearInterval(interval);\r\n                    setTimeout(() => {\r\n                        alert('Analysis complete! In a full app, this would navigate to results.');\r\n                        resetScan();\r\n                    }, 500);\r\n                    return 100;\r\n                }\r\n                return prev + 5;\r\n            });\r\n        }, 100);\r\n    };\r\n\r\n    const resetScan = () => {\r\n        setCapturedImage(null);\r\n        setAnalyzing(false);\r\n        setProgress(0);\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            minHeight: '100vh',\r\n            background: 'linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%)',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            width: '100%',\r\n            maxWidth: '100vw',\r\n            overflow: 'hidden'\r\n        }}>\r\n            {/* Main Content - Responsive Layout */}\r\n            <div style={{\r\n                flex: 1,\r\n                display: 'flex',\r\n                flexDirection: window.innerWidth > 768 ? 'row' : 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                padding: window.innerWidth > 768 ? '40px' : '20px',\r\n                gap: window.innerWidth > 768 ? '60px' : '20px',\r\n                maxWidth: window.innerWidth > 768 ? '1400px' : '100%',\r\n                margin: '0 auto',\r\n                width: '100%'\r\n            }}>\r\n                {/* Camera/Preview Area */}\r\n                <div style={{\r\n                    position: 'relative',\r\n                    width: window.innerWidth > 768 ? '500px' : '100%',\r\n                    height: window.innerWidth > 768 ? '600px' : 'auto',\r\n                    aspectRatio: window.innerWidth <= 768 ? '9/16' : 'unset',\r\n                    background: '#000',\r\n                    borderRadius: '24px',\r\n                    overflow: 'hidden',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    boxShadow: '0 20px 60px rgba(45, 80, 22, 0.2)',\r\n                    flexShrink: 0\r\n                }}>\r\n                    {/* Camera Frame Overlay */}\r\n                    {(cameraActive || capturedImage) && (\r\n                        <div style={{\r\n                            position: 'absolute',\r\n                            inset: '40px',\r\n                            border: '3px solid rgba(255, 255, 255, 0.5)',\r\n                            borderRadius: '20px',\r\n                            zIndex: 10,\r\n                            pointerEvents: 'none'\r\n                        }}>\r\n                            {/* Corner decorations */}\r\n                            <div style={{ position: 'absolute', top: -3, left: -3, width: '40px', height: '40px', borderTop: '6px solid white', borderLeft: '6px solid white', borderRadius: '20px 0 0 0' }}></div>\r\n                            <div style={{ position: 'absolute', top: -3, right: -3, width: '40px', height: '40px', borderTop: '6px solid white', borderRight: '6px solid white', borderRadius: '0 20px 0 0' }}></div>\r\n                            <div style={{ position: 'absolute', bottom: -3, left: -3, width: '40px', height: '40px', borderBottom: '6px solid white', borderLeft: '6px solid white', borderRadius: '0 0 0 20px' }}></div>\r\n                            <div style={{ position: 'absolute', bottom: -3, right: -3, width: '40px', height: '40px', borderBottom: '6px solid white', borderRight: '6px solid white', borderRadius: '0 0 20px 0' }}></div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Video Preview - ALWAYS VISIBLE WHEN CAMERA ACTIVE */}\r\n                    {cameraActive && (\r\n                        <>\r\n                            <video\r\n                                ref={videoRef}\r\n                                autoPlay\r\n                                playsInline\r\n                                muted\r\n                                style={{\r\n                                    position: 'absolute',\r\n                                    top: 0,\r\n                                    left: 0,\r\n                                    width: '100%',\r\n                                    height: '100%',\r\n                                    objectFit: 'cover',\r\n                                    backgroundColor: '#000'\r\n                                }}\r\n                            />\r\n                            \r\n                            {/* Camera Controls Overlay */}\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: '20px',\r\n                                right: '20px',\r\n                                display: 'flex',\r\n                                gap: '12px',\r\n                                zIndex: 20\r\n                            }}>\r\n                                {/* Flash Toggle */}\r\n                                {hasFlash && (\r\n                                    <button\r\n                                        onClick={toggleFlash}\r\n                                        style={{\r\n                                            background: flashEnabled ? 'rgba(255, 215, 0, 0.9)' : 'rgba(0, 0, 0, 0.5)',\r\n                                            backdropFilter: 'blur(10px)',\r\n                                            border: 'none',\r\n                                            borderRadius: '50%',\r\n                                            width: '48px',\r\n                                            height: '48px',\r\n                                            display: 'flex',\r\n                                            alignItems: 'center',\r\n                                            justifyContent: 'center',\r\n                                            cursor: 'pointer',\r\n                                            transition: 'all 0.3s ease'\r\n                                        }}\r\n                                        title={flashEnabled ? 'Turn off flash' : 'Turn on flash'}\r\n                                    >\r\n                                        <span style={{ fontSize: '24px' }}>\r\n                                            {flashEnabled ? 'âš¡' : 'ðŸ”¦'}\r\n                                        </span>\r\n                                    </button>\r\n                                )}\r\n                                \r\n                                {/* Camera Flip */}\r\n                                <button\r\n                                    onClick={toggleCamera}\r\n                                    style={{\r\n                                        background: 'rgba(0, 0, 0, 0.5)',\r\n                                        backdropFilter: 'blur(10px)',\r\n                                        border: 'none',\r\n                                        borderRadius: '50%',\r\n                                        width: '48px',\r\n                                        height: '48px',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        cursor: 'pointer',\r\n                                        transition: 'all 0.3s ease'\r\n                                    }}\r\n                                    title=\"Switch camera\"\r\n                                >\r\n                                    <span style={{ fontSize: '24px' }}>ðŸ”„</span>\r\n                                </button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n\r\n                    {/* Captured Image */}\r\n                    {capturedImage && !cameraActive && (\r\n                        <img\r\n                            src={capturedImage}\r\n                            alt=\"Captured plant\"\r\n                            style={{\r\n                                width: '100%',\r\n                                height: '100%',\r\n                                objectFit: 'cover'\r\n                            }}\r\n                        />\r\n                    )}\r\n\r\n                    {/* Placeholder when no camera/image */}\r\n                    {!cameraActive && !capturedImage && (\r\n                        <div style={{\r\n                            textAlign: 'center',\r\n                            color: '#5a6c62',\r\n                            padding: '40px',\r\n                            zIndex: 5\r\n                        }}>\r\n                            <div style={{\r\n                                fontSize: '64px',\r\n                                marginBottom: '16px',\r\n                                opacity: 0.5\r\n                            }}>\r\n                                ðŸŒ¿\r\n                            </div>\r\n                            <p style={{\r\n                                fontSize: '18px',\r\n                                fontWeight: '600',\r\n                                color: '#fff',\r\n                                marginBottom: '8px'\r\n                            }}>\r\n                                {window.innerWidth > 768 ? 'Camera Preview' : 'Ready to Scan'}\r\n                            </p>\r\n                            <p style={{\r\n                                fontSize: '14px',\r\n                                opacity: 0.8,\r\n                                color: '#ccc'\r\n                            }}>\r\n                                {window.innerWidth > 768 ? 'Click \"Start Camera\" to begin' : 'Start camera or upload an image'}\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Analysis Progress */}\r\n                    {analyzing && (\r\n                        <div style={{\r\n                            position: 'absolute',\r\n                            bottom: '60px',\r\n                            left: '50%',\r\n                            transform: 'translateX(-50%)',\r\n                            background: 'rgba(255, 255, 255, 0.95)',\r\n                            backdropFilter: 'blur(10px)',\r\n                            padding: '12px 24px',\r\n                            borderRadius: '50px',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '12px',\r\n                            boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)',\r\n                            zIndex: 20\r\n                        }}>\r\n                            <div style={{\r\n                                width: '20px',\r\n                                height: '20px',\r\n                                border: '3px solid #2d5016',\r\n                                borderTopColor: 'transparent',\r\n                                borderRadius: '50%',\r\n                                animation: 'spin 1s linear infinite'\r\n                            }}></div>\r\n                            <span style={{\r\n                                fontSize: '14px',\r\n                                fontWeight: '600',\r\n                                color: '#2d5016'\r\n                            }}>\r\n                                {progress}% Analyzing\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Reset button when image captured */}\r\n                    {capturedImage && !analyzing && (\r\n                        <button\r\n                            onClick={resetScan}\r\n                            style={{\r\n                                position: 'absolute',\r\n                                top: '20px',\r\n                                right: '20px',\r\n                                background: 'rgba(0, 0, 0, 0.5)',\r\n                                backdropFilter: 'blur(10px)',\r\n                                border: 'none',\r\n                                borderRadius: '50%',\r\n                                width: '40px',\r\n                                height: '40px',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                cursor: 'pointer',\r\n                                zIndex: 20\r\n                            }}\r\n                        >\r\n                            <X size={24} color=\"white\" />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Right Side Content - Instructions & Actions */}\r\n                <div style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    gap: '32px',\r\n                    flex: window.innerWidth > 768 ? 1 : 'unset',\r\n                    maxWidth: window.innerWidth > 768 ? '500px' : '100%',\r\n                    width: '100%'\r\n                }}>\r\n                    {/* Title & Description */}\r\n                    <div style={{\r\n                        display: window.innerWidth > 768 ? 'block' : 'none'\r\n                    }}>\r\n                        <h2 style={{\r\n                            fontSize: '36px',\r\n                            fontWeight: '700',\r\n                            color: '#0f2419',\r\n                            marginBottom: '16px',\r\n                            lineHeight: '1.2'\r\n                        }}>\r\n                            Scan Your Malunggay Plant\r\n                        </h2>\r\n                        <p style={{\r\n                            fontSize: '16px',\r\n                            color: '#5a6c62',\r\n                            lineHeight: '1.6',\r\n                            marginBottom: '24px'\r\n                        }}>\r\n                            Position your Malunggay plant within the camera frame for accurate disease detection.\r\n                            Our AI will analyze the leaves and provide instant results.\r\n                        </p>\r\n                        <div style={{\r\n                            background: 'rgba(45, 80, 22, 0.1)',\r\n                            borderRadius: '12px',\r\n                            padding: '16px',\r\n                            borderLeft: '4px solid #2d5016'\r\n                        }}>\r\n                            <p style={{\r\n                                fontSize: '14px',\r\n                                color: '#2d5016',\r\n                                margin: 0,\r\n                                fontWeight: '500'\r\n                            }}>\r\n                                ðŸ’¡ Tip: Use the flash button for better lighting in dark conditions\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Action Buttons */}\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        gap: '12px',\r\n                        width: '100%'\r\n                    }}>\r\n                        {cameraActive ? (\r\n                            <button\r\n                                onClick={captureImage}\r\n                                disabled={analyzing}\r\n                                style={{\r\n                                    background: analyzing ? '#9e9e9e' : 'linear-gradient(135deg, #2d5016 0%, #1a5f3a 100%)',\r\n                                    color: 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: window.innerWidth > 768 ? '16px' : '50%',\r\n                                    width: window.innerWidth > 768 ? '100%' : '72px',\r\n                                    height: window.innerWidth > 768 ? 'auto' : '72px',\r\n                                    padding: window.innerWidth > 768 ? '18px 32px' : '0',\r\n                                    fontSize: window.innerWidth > 768 ? '18px' : '32px',\r\n                                    fontWeight: '600',\r\n                                    cursor: analyzing ? 'not-allowed' : 'pointer',\r\n                                    boxShadow: '0 8px 24px rgba(45, 80, 22, 0.3)',\r\n                                    transition: 'all 0.3s ease',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    gap: '12px',\r\n                                    margin: window.innerWidth > 768 ? '0' : '0 auto'\r\n                                }}\r\n                            >\r\n                                {window.innerWidth > 768 && <Camera size={24} />}\r\n                                {window.innerWidth > 768 ? 'Capture Photo' : 'ðŸ“¸'}\r\n                            </button>\r\n                        ) : (\r\n                            <>\r\n                                <button\r\n                                    onClick={startCamera}\r\n                                    disabled={analyzing}\r\n                                    style={{\r\n                                        background: analyzing ? '#9e9e9e' : 'linear-gradient(135deg, #2d5016 0%, #1a5f3a 100%)',\r\n                                        color: 'white',\r\n                                        border: 'none',\r\n                                        borderRadius: '16px',\r\n                                        padding: '18px 32px',\r\n                                        fontSize: window.innerWidth > 768 ? '18px' : '16px',\r\n                                        fontWeight: '600',\r\n                                        cursor: analyzing ? 'not-allowed' : 'pointer',\r\n                                        boxShadow: '0 8px 24px rgba(45, 80, 22, 0.3)',\r\n                                        transition: 'all 0.3s ease',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        gap: '12px',\r\n                                        width: '100%'\r\n                                    }}\r\n                                >\r\n                                    <Camera size={window.innerWidth > 768 ? 24 : 20} />\r\n                                    Start Camera\r\n                                </button>\r\n\r\n                                <input\r\n                                    type=\"file\"\r\n                                    ref={fileInputRef}\r\n                                    accept=\"image/*\"\r\n                                    style={{ display: 'none' }}\r\n                                    onChange={handleFileUpload}\r\n                                />\r\n\r\n                                <button\r\n                                    onClick={() => fileInputRef.current?.click()}\r\n                                    disabled={analyzing}\r\n                                    style={{\r\n                                        background: analyzing ? '#9e9e9e' : 'white',\r\n                                        color: '#2d5016',\r\n                                        border: '2px solid #2d5016',\r\n                                        borderRadius: '16px',\r\n                                        padding: '18px 32px',\r\n                                        fontSize: window.innerWidth > 768 ? '18px' : '16px',\r\n                                        fontWeight: '600',\r\n                                        cursor: analyzing ? 'not-allowed' : 'pointer',\r\n                                        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\r\n                                        transition: 'all 0.3s ease',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        gap: '12px',\r\n                                        width: '100%'\r\n                                    }}\r\n                                >\r\n                                    <Upload size={window.innerWidth > 768 ? 24 : 20} />\r\n                                    Upload Image\r\n                                </button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Mobile Instructions */}\r\n                    {!cameraActive && !capturedImage && window.innerWidth <= 768 && (\r\n                        <p style={{\r\n                            textAlign: 'center',\r\n                            fontSize: '14px',\r\n                            color: '#5a6c62',\r\n                            margin: 0\r\n                        }}>\r\n                            Position the plant within the frame for best results. Ensure good lighting and focus on leaves for disease detection.\r\n                        </p>\r\n                    )}\r\n                </div>\r\n\r\n                <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n\r\n                <style>{`\r\n        @keyframes spin {\r\n          to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default ScanScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}